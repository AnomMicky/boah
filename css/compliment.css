/* --- GLOBAL FIXES AND FONT --- */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}
html {
  font-size: 62.5%;
  /* Set base background to a light color to prevent a dark flash on load */
  background-color: #B39DDB; 
}
/* 2. Make the body fade in smoothly on page load. */
body {
  opacity: 0;
  animation: fadeIn 0.8s ease-in-out forwards;
}
@keyframes fadeIn {
  to {
    opacity: 1;
  }
}

/* --- LAYOUT AND BACKGROUND --- */
.center {
  display: flex;
  justify-content: center;
  align-items: center;
}
.container {
  width: 100%;
  height: 100vh;
  /* --- BRIGHTER ROMANTIC GRADIENT START --- */
  /* Colors: Light Lavender -> Soft Pink -> Vibrant Pink -> Aqua Blue */
  background: linear-gradient(-45deg, #B39DDB, #FF80AB, #E91E63, #80DEEA);
  background-size: 400% 400%;
  animation: gradientAnimation 25s ease infinite;
  /* --- BRIGHTER ROMANTIC GRADIENT END --- */
  overflow: hidden; 
}

/* Keyframes adopted from your main page */
@keyframes gradientAnimation {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.header {
  width: 40%;
  height: 100%;
  flex-direction: column;
  align-items: center; 
  position: relative;
  z-index: 5;
}
.boxes {
  width: 40%;
  height: 100%;
  perspective: 150rem;
  position: relative;
  z-index: 1;
}

/* Initial Prompt (Ensuring CONTRAST by using dark text/border) */
.initial-prompt {
  background: rgba(255, 255, 255, 0.1);
  padding: 3rem;
  border-radius: 10px;
  text-align: center;
  color: #3b283f; /* Dark text color for contrast */
  border: 2px dashed rgba(59, 40, 63, 0.4); /* Darker dashed line */
  transition: opacity 0.5s, transform 0.5s;
  z-index: 10;
}
.initial-prompt.hide {
  opacity: 0;
  transform: scale(0.8);
  display: none;
}
.initial-prompt h2 {
  font-size: 3rem;
  font-weight: 200;
}
.initial-prompt p {
  font-size: 1.6rem;
  margin-top: 1rem;
}

/* Message Reveal Area (Initially Hidden) */
.message-reveal {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none; 
  z-index: 50; 
}
.message-reveal.show {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* --- PAPER UNFOLDING STYLES --- */

/* Colors using CSS Variables */
:root {
  --clr1: #ABC7C9; /* Base Paper Color (kept light for contrast) */
  --clr2: #F8F3E8; /* Border/Background Color (kept light for contrast) */
  --clr3: #EEEBE3; /* Darker clr2 for folds */
}

/* Center Mixin Equivalent */
#stage, #frame {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* Stage Setup */
#stage {
  width: 350px;
  height: 350px;
  perspective: 800px;
  transform: translate(-50%, -50%) scale(0.2); 
  opacity: 0;
  transition: transform 0.5s, opacity 0.5s;
}
#stage.unfold {
    transform: translate(-50%, -50%) scale(1); 
    opacity: 1;
}

/* Frame (Message Content Area) */
#frame {
  width: 350px;
  height: 350px;
  opacity: 0; 
  box-shadow: 0 0 40px rgba(0,0,0,0.06);
  background: var(--clr2); 
  padding: 4rem 2rem;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 60; 
}

/* --- Sequential Text Reveal Styles --- */
#frame h2, #frame p {
    opacity: 0;
    transform: translateY(10px);
    transition: opacity 0.7s ease-out, transform 0.7s ease-out;
}

#frame.title-reveal h2 {
    opacity: 1;
    transform: translateY(0);
}

#frame.text-reveal p {
    opacity: 1;
    transform: translateY(0);
}

/* Message Content Styling */
#frame h2 {
    font-size: 3rem;
    font-weight: bold;
    margin-bottom: 1.5rem;
}
#frame p {
    font-size: 1.6rem;
    line-height: 1.6;
    color: #333;
    padding: 0 1rem;
}
#frame .button-area {
    margin-top: 2rem;
}

/* Folds */
.fold {
  position: absolute;
  width: 175px; 
  height: 175px; 
  background: var(--clr1);
  box-shadow: 0 0 40px rgba(0,0,0,0.07);
  overflow: hidden;
  border-radius: 4px;
  transform-style: preserve-3d;
}

.fold-1 {
  background: var(--clr3);
  border-radius: 5px 0 0 0;
  top: 0;
  left: 0;
  transform-origin: 100% 100%;
}

.fold-2 {
  background: var(--clr3);
  border-radius: 0 5px 0 0;
  left: 175px;
  top: 0;
  transform-origin: 0% 100%;
  transform: rotateY(180deg);
}

.fold-3 {
  background: var(--clr3);
  border-radius: 0 0 0 5px;
  top: 175px;
  left: 0;
  transform-origin: 100% 0%;
  transform: rotateX(180deg);
}

.fold-4 {
  background: var(--clr3);
  border-radius: 0 0 5px 0;
  top: 175px;
  left: 175px;
  transform-origin: 0% 0%;
  transform: rotateX(180deg);
}

/* Animation Classes added by JavaScript */
.fold-1.unfold-anim { animation: clr 1s ease forwards; }
.fold-2.unfold-anim { animation: fold 1s ease forwards; }
.fold-3.unfold-anim { animation: fold2 1s 1s ease forwards; }
.fold-4.unfold-anim { animation: fold2 1s 1s ease forwards; }
#frame.show-content { animation: showContent 0.5s ease forwards; } 


/* Animation Keyframes */
@keyframes clr {
  100% { 
    background: var(--clr1); 
    transform: rotate(0deg); 
  }
}

@keyframes fold {
  100% {
    background: var(--clr1);
    transform: rotateY(360deg);
  }
}

@keyframes fold2 {
  0% {
    opacity: 1;
    background: var(--clr3);
    transform: rotateX(180deg);
  }
  50% {
    opacity: 1;
    background: var(--clr3);
  }
  60% {
    opacity: 1;
    background: var(--clr1);
  }
  100% {
    opacity: 1;
    background: var(--clr1);
    transform: rotateX(0deg);
  }
}

/* Final keyframe for message container */
@keyframes showContent {
  100% { 
    opacity: 1; 
  }
}


/* --- 3D BOX STYLES (14 BOXES) --- */
.active.box {
  top: 0;
  left: 0;
  transition: all 0.5s;
}
.box {
  transform-style: preserve-3d;
  transform: rotateY(45deg) rotateX(30deg);
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: all 0.5s;
}
@keyframes boxAnim {
  0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
  100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
}

/* Box Positioning and Animation Delays (1-7 original) */
.box-1 { left: -25rem; top: -6rem; animation: boxAnim 100s infinite linear; }
.box-2 { left: -11rem; top: -23rem; animation: boxAnim 100s -10s infinite linear; }
.box-3 { left: 10rem; top: -23rem; animation: boxAnim 100s -20s infinite linear; }
.box-4 { left: 25rem; top: -6rem; animation: boxAnim 100s -30s infinite linear; }
.box-5 { left: 22rem; top: 13rem; animation: boxAnim 100s -40s infinite linear; }
.box-6 { left: 0; top: 25rem; animation: boxAnim 100s -50s infinite linear; }
.box-7 { left: -21rem; top: 14rem; animation: boxAnim 100s -60s infinite linear; }

/* Cube Face Sizing and Styling */
.active.box div {
  width: 16rem;
  height: 16rem;
  transition: all 0.2s 0.5s ease-in-out;
}
.box div {
  width: 7rem;
  height: 7rem;
  position: absolute;
  opacity: 0.8;
  box-shadow: 0.1rem 0.1rem 0.1rem #eee inset, -0.1rem -0.1rem 0.1rem #eee inset,
    0.1rem 0.1rem 3.5rem rgba(255, 255, 255, 0.2),
    -0.1rem -0.1rem 3.5rem rgba(255, 255, 255, 0.2);
  display: flex;
  justify-content: center;
  align-items: center;
  color: #fff;
  font-size: 1.5rem;
  font-weight: bold;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
}

/* Cube Face Colors (7 existing, 7 new colors for contrast) */
.box-1 div { background-color: #efd81d; } /* Yellow */
.box-2 div { background-color: #61dbfb; } /* Light Blue */
.box-3 div { background-color: #41b883; } /* Green */
.box-4 div { background-color: #b52e31; } /* Red */
.box-5 div { background-color: #43853d; } /* Dark Green */
.box-6 div { background-color: #cf649a; } /* Pink */
.box-7 div { background-color: #e04e39; } /* Orange */


/* 3D Transforms for Cube Faces (7rem size) */
.top-side { transform: rotateX(90deg) translateZ(3.5rem); }
.bottom-side { transform: rotateX(90deg) translateZ(-3.5rem); }
.front-side { transform: translateZ(3.5rem); }
.back-side { transform: translateZ(-3.5rem); }
.right-side {
  transform: rotateY(-90deg) translateX(3.5rem);
  transform-origin: right;
}
.left-side {
  transform: rotateY(90deg) translateX(-3.5rem);
  transform-origin: left;
}

/* 3D Transforms for Active Cube Faces (16rem size) */
.active .top-side { transform: rotateX(90deg) translateZ(8rem); }
.active .bottom-side { transform: rotateX(90deg) translateZ(-8rem); }
.active .front-side { transform: translateZ(8rem); }
.active .back-side { transform: translateZ(-8rem); }
.active .right-side {
  transform: rotateY(-90deg) translateX(8rem);
  transform-origin: right;
}
.active .left-side {
  transform: rotateY(90deg) translateX(-8rem);
  transform-origin: left;
}
